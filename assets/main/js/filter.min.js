function onImagesReady(t,e){let i=t.querySelectorAll("img"),o=0;i.length&&(i.forEach(t=>{t.complete?o++:t.addEventListener("load",()=>{++o===i.length&&e()})}),o!==i.length)||e()}function setOfferDescHeightAfterAjax(t){t=t.querySelectorAll(".offer-item");t.length&&(window.innerWidth<992?t.forEach(t=>t.style.removeProperty("--height-desc")):t.forEach(t=>{var e=t.querySelector(".content-desc");e&&t.style.setProperty("--height-desc",e.offsetHeight+"px")}))}function listPostFilter(){if(!($(".list-post-filter").length<1)){let l=$(".list-post-filter"),e="all",s=1,i=!1,a="filter_offers",n=(l.hasClass("new")?a="filter_news":l.hasClass("experience")&&(a="filter_experiences"),"number"==typeof window.EXPERIENCE_FILTER_LOCATION?window.EXPERIENCE_FILTER_LOCATION:"all");function o(t,o=1){i||(i=!0,$.ajax({url:ajaxUrl,type:"POST",data:{action:a,term:t,page:o,filter_location:n},beforeSend(){$(".list-post-filter .list-post").addClass("is-loading")},success(e){if(e&&e.success){var i=$(".list-post-filter");let t=i.find(".list-post");t.html(e.data.posts),i.find(".pagination").remove(),t.after(e.data.pagination),l.hasClass("offer")&&onImagesReady(t[0],()=>{setOfferDescHeightAfterAjax(t[0])}),s=o}},complete(){$(".list-post-filter .list-post").removeClass("is-loading"),i=!1}}))}$(document).on("click",".list-post-filter .filter-button, .list-post-filter .dropdown-custom-item span",function(){var t=$(this).data("tab");t&&(e="all"===t?"all":t.replace("post-category-",""),s=1,$(".list-post-filter .filter-button").removeClass("active"),$('.list-post-filter .filter-button[data-tab="'+t+'"]').addClass("active"),o(e,1))}),$(document).on("click",".list-post-filter .pagination a",function(t){t.preventDefault();t=$(this).data("page")||parseInt($(this).text(),10);t&&!isNaN(t)&&o(e,t)}),l.hasClass("experience")&&n}}function filterDropdownBoostrapMobile(){$(".filter-dropdown").length<1||991<$(window).width()||$(".filter-dropdown .dropdown-custom-item").on("click",function(){var t=$(this).find("span");t.length&&(t=t.data("tab"),(t=$(`[data-bs-target="#${t}"]`)).length)&&new bootstrap.Tab(t[0]).show()})}function filterDropdownMobile(){if(!($(".filter-list-button").length<1)){let e=$(".filter-list-button");var t=e.siblings(".filter-dropdown").find(".dropdown-custom-item");let i=0<$(".section-accommodation, .destination-location").length;t.on("click",function(){var t=$(this).find("span").data("tab");(i?e.find(`.filter-button[data-type="${t}"]`):e.find(`.filter-button[data-tab="${t}"]`)).trigger("click")})}}export{onImagesReady,setOfferDescHeightAfterAjax,listPostFilter,filterDropdownBoostrapMobile,filterDropdownMobile};